# Система онбординга SweetMyy

## Описание

Система онбординга автоматически отслеживает, прошел ли пользователь вводные экраны приложения. После первого прохождения онбординга пользователь больше не увидит эти экраны при запуске приложения.

## Как это работает

### 1. Хук useOnboarding

- **Файл**: `src/hooks/useOnboarding.js`
- **Функции**:
  - `isOnboardingCompleted` - булево значение, показывающее завершен ли онбординг
  - `isLoading` - состояние загрузки при проверке статуса
  - `markOnboardingAsCompleted()` - отмечает онбординг как завершенный
  - `resetOnboarding()` - сбрасывает статус онбординга

### 2. Компонент OnboardingCheck

- **Файл**: `src/components/OnboardingCheck.jsx`
- **Функция**: Проверяет статус онбординга и показывает соответствующий экран
- **Логика**:
  - Если `isLoading` - показывает индикатор загрузки
  - Если `isOnboardingCompleted` - показывает главную страницу
  - Иначе - показывает первый экран онбординга

### 3. Навигация

- **Начальный экран**: `OnboardingCheck` (вместо `Onboarding1`)
- **Цепочка онбординга**: `Onboarding1` → `Onboarding2` → `Onboarding3` → `Main`
- **Сброс**: Доступен через `Settings` → `Reset Onboarding`

## Структура файлов

```
src/
├── hooks/
│   └── useOnboarding.js          # Хук для управления онбордингом
├── components/
│   └── OnboardingCheck.jsx       # Компонент проверки статуса
├── screens/
│   ├── OnboardingScreen1.jsx     # Первый экран онбординга
│   ├── OnboardingScreen2.jsx     # Второй экран онбординга
│   ├── OnboardingScreen3.jsx     # Третий экран онбординга (завершающий)
│   ├── ResetOnboardingScreen.jsx # Экран сброса онбординга
│   └── SettingsScreen.jsx        # Настройки (с кнопкой сброса)
└── navigation/
    └── AppNavigator.jsx          # Навигатор приложения
```

## Использование

### Для разработчиков

1. **Проверка статуса онбординга**:

```jsx
import { useOnboarding } from '../hooks/useOnboarding';

function MyComponent() {
  const { isOnboardingCompleted, isLoading } = useOnboarding();

  if (isLoading) return <LoadingSpinner />;
  if (isOnboardingCompleted) return <MainContent />;
  return <OnboardingContent />;
}
```

2. **Отметка завершения онбординга**:

```jsx
const { markOnboardingAsCompleted } = useOnboarding();

const handleComplete = async () => {
  await markOnboardingAsCompleted();
  // Дополнительная логика
};
```

### Для пользователей

1. **Первый запуск**: Показываются экраны онбординга
2. **После завершения**: При следующих запусках сразу показывается главная страница
3. **Сброс**: В настройках можно сбросить онбординг для повторного прохождения

## Тестирование

### Сброс онбординга

1. Откройте приложение
2. Перейдите в `Settings`
3. Нажмите `Reset Onboarding`
4. Подтвердите сброс
5. Приложение вернется к экранам онбординга

### Проверка сохранения

1. Завершите онбординг
2. Закройте приложение
3. Откройте приложение снова
4. Должна показаться главная страница

## Технические детали

- **Хранилище**: AsyncStorage с ключом `@onboarding_completed`
- **Значение**: `'true'` для завершенного онбординга
- **Обработка ошибок**: При ошибках чтения/записи онбординг считается незавершенным
- **Производительность**: Статус проверяется только при запуске приложения

## Возможные улучшения

1. **Анимации**: Добавить плавные переходы между экранами
2. **Прогресс-бар**: Показывать прогресс прохождения онбординга
3. **Персонализация**: Сохранять предпочтения пользователя из онбординга
4. **Аналитика**: Отслеживать статистику прохождения онбординга
